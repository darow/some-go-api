Реализовать REST API приложение.
Использовать можно любой фреймворк, либо go-swagger на усмотрение.

Часть БД (предпочтительно PostgreSQL, но не принципиально).
1. Создать таблицу пользователей, с обязательными полями: логин, пароль, кол-во неуспешных
   попыток входа. Пароль хранить в виде результата выполнения любой хэш-функции (md5, sha1, ...).
2. Создать таблицу с сессиями. Хранить уникальный токен и время его жизни.
3. Создать таблицу с аудитом авторизации. Пользователь, время, событие (успешный вход,
   неверный пароль, блокировка).

Часть API. Реализовать 3 метода.
1. Метод авторизации. Принимает логин/пароль, проверка на стороне БД. Генерирует уникальный
   токен (результат хэш-функции (md5, sha1, ...) от какого-то значения (напр. времени), GUID, всё что
   угодно), записывает токен в таблицу. Возвращает токен в случае успешной авторизации. После 5-
   ти неуспешных авторизаций блокировать пользователя в БД, запрещая все последующие
   авторизации.
2. Метод получения истории авторизации пользователя. Принимает токен. В БД проверяет токен
   на валидность (токен существует, и его срок жизни не истёк). Возвращает аудит авторизации по
   пользователю в виде JSON массива с полями дата/время, событие.
3. Метод очистки аудита по текущему пользователю. Принимает токен. В БД проверяет токен на
   валидность. Очищает аудит авторизации по пользователю.

Токен передавать в заголовке HTTP-запроса с именем &quot;X-Token&quot;.

Написать документацию к реализованному API (swagger или md файл).


Запуск после клонирования репозитория:

1. Запускаем скрипты наката в postgres из migrations/..._create_users.up.sql

2. Создаем конфиг файл:
Пример содержания файла config/apiserver.json 

   {
      "log_level": "debug",
      "bind_addr": ":8080",
      "psql_info": "host=localhost port=5432 user=postgres password=1 dbname=some_go_api_db sslmode=disable"
   }

3. Из linux запускаем команду "make" 
Из windows "go build ./cmd/apiserver" После чего "./apiserver"

4. Тестируем запросами

Публичные методы:

Создаем пользователя 

curl -X POST -H "Content-Type: application/json" -d '{"login": "user", "password": "password"}' http://localhost:8080/users

Авторизируемся, создаем сессию и получаем токен

curl -X POST -H "Content-Type: application/json" -d '{"login": "user1", "password": "password"}' http://localhost:8080/sessions

Пример ответа: {"token":"3a31a28b1fc06ba7314bd5932aa19b76"}

Приватные методы:

Используем токен, чтобы получить список попыток авторизации

curl -X GET -H "Content-Type: application/json" -H "X-Token: %Т" http://localhost:8080/private/sessions

Используем токен, чтобы удалить историю авторизации

curl -X DELETE -H "Content-Type: application/json" -H "X-Token: %Т" http://localhost:8080/private/sessions



Для запуска тестов sqlstore Необходимо создать базу данных с именем some_go_api_db_test.

